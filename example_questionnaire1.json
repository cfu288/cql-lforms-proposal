{
  "resourceType": "Questionnaire",
  "id": "Example-CQL-Questionnaire",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2024-04-01T03:13:25.000-04:00",
    "source": "#3HpoOsJcGBiwp5BU",
    "profile": [
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire|2.7"
    ],
    "tag": [
      {
        "code": "lformsVersion: 29.0.0"
      }
    ]
  },
  "url": "http:/lforms-fhir.nlm.nih.gov/baseR4/Questionnaire/Example-CQL-Questionnaire",
  "name": "Example CQL Questionnaire",
  "title": "Example CQL Questionnaire",
  "item": [
    {
      "linkId": "/2345-7",
      "code": [
        {
          "system": "http://loinc.org",
          "code": "2345-7",
          "display": "Glucose SerPl-mCnc"
        }
      ],
      "text": "Glucose SerPl-mCnc",
      "type": "decimal",
      "required": false,
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
          "valueCoding": {
            "display": "mg/dL"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
          "valueDuration": {
            "value": 100,
            "unit": "year",
            "system": "http://unitsofmeasure.org",
            "code": "a"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
          "valueBoolean": true
        }
      ]
    },
    {
      "linkId": "1.0.0",
      "text": "Enter email address",
      "type": "string",
      "required": false,
      "_required": {
        "extension": [
          {
            "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
            "valueExpression": {
              "description": "current date",
              "language": "text/fhirpath",
              "expression": "%patient.active"
            }
          }
        ]
      }
    }
  ]
}


"extension": [
  {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-library",
    "valueString": "http://example.org/Library/MeasurementLimits"
  },
  {
    "extension": [
      {
        "url": "name",
        "valueCoding": {
          "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext",
          "code": "patient",
          "display": "Patient"
        }
      },
      {
        "url": "type",
        "valueCode": "Patient"
      },
      {
        "url": "description",
        "valueString": "The patient that is to be used to pre-populate the form"
      }
    ],
    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext"
  }
],
"item": [
  {
    "extension" : [
      {
        "url" : "http://hl7.org/fhir/StructureDefinition/minValue",
        "valueDecimal" : 1,
        "_valueDecimal" : {
          "extension" : [
            {
              "url" : "http://hl7.org/fhir/StructureDefinition/cqf-calculatedValue",
              "valueString" : "min_weight"
            }
          ]
        }
      },
      {
        "url" : "http://hl7.org/fhir/StructureDefinition/maxValue",
        "valueDecimal" : 100,
        "_valueDecimal" : {
          "extension" : [
            {
              "url" : "http://hl7.org/fhir/StructureDefinition/cqf-calculatedValue",
              "valueString" : "max_weight"
            }
          ]
        }
      }
    ],
    "linkId" : "3.4.1",
    "text" : "Enter weight in kg",
    "type" : "decimal"
  },
  {
    "linkId" : "3.4.2",
    "text" : "Enter email address",
    "type" : "string",
    "required" : false,
    "_required" : {
      "extension" : [
        {
          "url" : "http://hl7.org/fhir/StructureDefinition/cqf-expression",
          "valueExpression" : {
            "description" : "current date",
            "language" : "text/fhirpath",
            "expression" : "%patient.active"
          }
        }
      ]
    }
  }
]
